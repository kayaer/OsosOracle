@using OsosOracle.MvcUI.Resources;
@{
    ViewBag.Title = Dil.Index;
}

<div class="row">

    <!-- /.col -->
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box">
            <span class="info-box-icon bg-blue"><i class="fa fa-clock-o" style="padding-top:20px"></i></span>
            <div class="info-box-content">
                <span>@Dil.Sayac @Dil.Adet</span>
                <span class="info-box-number">@ViewBag.SistemdekiSayacSayisi</span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
    </div>
    <!-- /.col -->
    <!-- fix for small devices only -->
    <div class="clearfix visible-sm-block"></div>
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box">
            <span class="info-box-icon bg-red"><i class="fa fa-user-plus" style="padding-top:20px"></i></span>
            <div class="info-box-content">
                <span>@Dil.Abone @Dil.Adet</span>
                <span class="info-box-number">@ViewBag.SistemdekiAboneSayisi</span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
    </div>
    <!-- /.col -->
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box">
            <span class="info-box-icon bg-yellow"><i class="fa fa-archive" style="padding-top:20px" ></i></span>
            <div class="info-box-content">
                <span>@Dil.Satis @Dil.Adet</span>
                <span class="info-box-number">@ViewBag.SistemdekiSatisSayisi</span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
    </div>
    <!-- /.col -->
    <div class="col-md-3 col-sm-6 col-xs-12">
        <div class="info-box">
            <span class="info-box-icon bg-green"><i class="fa fa-user" style="padding-top:20px"></i></span>
            <div class="info-box-content">
                <span>@Dil.Kullanici @Dil.Adet</span>
                <span class="info-box-number">@ViewBag.SistemdekiKullaniciSayisi</span>
            </div>
            <!-- /.info-box-content -->
        </div>
        <!-- /.info-box -->
    </div>
</div>
<!-- /.row -->
<div class="form-group row">
    <div id="mychart"></div>
    <div id="satisChart"></div>
</div>

<style type="text/css">
    /*
    * Component: Info Box
    * -------------------
    */
    .info-box {
        display: block;
        min-height: 90px;
        background: #fff;
        width: 100%;
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
        border-radius: 2px;
        margin-bottom: 15px;
    }

        .info-box small {
            font-size: 14px;
        }

        .info-box .progress {
            background: rgba(0, 0, 0, 0.2);
            margin: 5px -10px 5px -10px;
            height: 2px;
        }

            .info-box .progress,
            .info-box .progress .progress-bar {
                border-radius: 0;
            }

                .info-box .progress .progress-bar {
                    background: #fff;
                }

    .info-box-icon {
        border-top-left-radius: 2px;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 2px;
        display: block;
        float: left;
        height: 90px;
        width: 90px;
        text-align: center;
        font-size: 45px;
        /*line-height: 90px;*/
        background: rgba(0, 0, 0, 0.2);
    }

        .info-box-icon > img {
            max-width: 100%;
        }

    .info-box-content {
        padding: 5px 10px;
        margin-left: 90px;
    }

    .info-box-number {
        display: block;
        font-weight: bold;
        font-size: 18px;
    }

    .progress-description,
    .info-box-text {
        display: block;
        font-size: 14px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .info-box-text {
        text-transform: uppercase;
    }

    .info-box-more {
        display: block;
    }

    .progress-description {
        margin: 0;
    }

    .bg-red,
    .bg-yellow,
    .bg-aqua,
    .bg-blue,
    .bg-light-blue,
    .bg-green,
    .bg-navy,
    .bg-teal,
    .bg-olive,
    .bg-lime,
    .bg-orange,
    .bg-fuchsia,
    .bg-purple,
    .bg-maroon,
    .bg-black,
    .bg-red-active,
    .bg-yellow-active,
    .bg-aqua-active,
    .bg-blue-active,
    .bg-light-blue-active,
    .bg-green-active,
    .bg-navy-active,
    .bg-teal-active,
    .bg-olive-active,
    .bg-lime-active,
    .bg-orange-active,
    .bg-fuchsia-active,
    .bg-purple-active,
    .bg-maroon-active,
    .bg-black-active,
    .callout.callout-danger,
    .callout.callout-warning,
    .callout.callout-info,
    .callout.callout-success,
    .alert-success,
    .alert-danger,
    .alert-error,
    .alert-warning,
    .alert-info,
    .label-danger,
    .label-info,
    .label-warning,
    .label-primary,
    .label-success,
    .modal-primary .modal-body,
    .modal-primary .modal-header,
    .modal-primary .modal-footer,
    .modal-warning .modal-body,
    .modal-warning .modal-header,
    .modal-warning .modal-footer,
    .modal-info .modal-body,
    .modal-info .modal-header,
    .modal-info .modal-footer,
    .modal-success .modal-body,
    .modal-success .modal-header,
    .modal-success .modal-footer,
    .modal-danger .modal-body,
    .modal-danger .modal-header,
    .modal-danger .modal-footer {
        color: #fff !important;
    }
</style>

<script type="text/javascript">


    google.charts.load('current', { packages: ['corechart', 'bar'] });
    //google.charts.setOnLoadCallback(HaberlesenCihazSayisiGetir);

    function GrafikCiz(jqXHR) {


        var data = new google.visualization.DataTable();
        data.addColumn('string', 'X');
        data.addColumn('number','@Dil.Adet');
        $.each(jqXHR, function (key, value) {
            data.addRow([value.TARIH, value.ADET]);
        });

        var options = {
            hAxis: {
                title: '@Dil.Zaman'
            },
            vAxis: {
                title: '@Dil.HaberlesenCihazSayisiGrafigi'
            },
            backgroundColor: '#f1f8e9'
        };

        var chart = new google.visualization.LineChart(document.getElementById('mychart'));
        chart.draw(data, options);
    }

    function HaberlesenCihazSayisiGetir() {
                try {


                    var request = $.ajax({
                                           url: "@Url.Action("HaberlesenCihazSayisiGetir", "Home")",
                                           method: "POST",
                                           async: true,
                                           dataType: "json",
                                           data: {  }
                                         });
                                          request.done(function (jqXHR) {
                                              //HaberlesenCihazSayisi  geldi
                                              GrafikCiz(jqXHR);

                                          });
                                         request.fail(function (jqXHR, textStatus) {
                                             unblockUI();
                                             var msg = jQuery.parseJSON(jqXHR.responseText);
                                             ajaxMesajGoster(msg.Mesaj);
                                         });


                } catch (e) {

                }

    }


    //google.charts.load('current', { packages: ['corechart', 'bar'] });
    google.charts.setOnLoadCallback(satisSayisiGetir);

    function SatisCiz(jqXHR) {


        var data = new google.visualization.DataTable();
        data.addColumn('string', 'X');
        data.addColumn('number','@Dil.Adet');
        $.each(jqXHR, function (key, value) {
            data.addRow([value.TARIH, value.ADET]);
        });

        var options = {
            hAxis: {
                title: '@Dil.Zaman'
            },
            vAxis: {
                title: $('<div>@Dil.GunlukSatisGrafigi</div> ').html()
            },
            backgroundColor: '#f1f8e9'
        };

        var chart = new google.visualization.LineChart(document.getElementById('satisChart'));
        chart.draw(data, options);
    }

    function satisSayisiGetir() {
                try {


                    var request = $.ajax({
                                           url: "@Url.Action("SatisSayisiGetir", "Home")",
                                           method: "POST",
                                           async: true,
                                           dataType: "json",
                                           data: {  }
                                         });
                                          request.done(function (jqXHR) {
                                              //HaberlesenCihazSayisi  geldi
                                              SatisCiz(jqXHR);

                                          });
                                         request.fail(function (jqXHR, textStatus) {
                                             unblockUI();
                                             var msg = jQuery.parseJSON(jqXHR.responseText);
                                             ajaxMesajGoster(msg.Mesaj);
                                         });


                } catch (e) {

                }

    }

</script>