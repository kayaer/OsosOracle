@using System.Configuration
@using OsosOracle.Framework.HtmlHelpers

@{
    ViewBag.Title = "Index";
}

<div class="row">
    <button id="btnAboneOku" type="button" class="btn btn-primary">Abone Oku</button>
    <button id="btnKartBosalt" type="button" class="btn btn-secondary">Kart Boşalt</button>
    <button id="btnKartTipi" type="button" class="btn btn-success">Kart Tipi</button>
    @* <button type="button" class="btn btn-danger">Danger</button>
        <button type="button" class="btn btn-warning">Warning</button>
        <button type="button" class="btn btn-info">Info</button>
        <button type="button" class="btn btn-light">Light</button>
        <button type="button" class="btn btn-dark">Dark</button>*@
</div>
<div class="row">
    <br/>
    @using (Html.BeginRibbon("Abone Bilgileri", ribbonColor: RibbonHelper.RibbonColor.Success))
    {
        <div class="form-group row ">
            <div class="col-md-3">
                <input id="txtCihazNo" type="text" class="form-control" placeholder="Cihaz No"/>
            </div>
            <div class="col-md-3">
                <input id="txtKartNo" type="text" class="form-control" placeholder="Kart No"/>
            </div>
            <div class="col-md-3">
                <input id="txtLimit1" type="text" class="form-control" placeholder="Limit 1"/>
            </div>
            <div class="col-md-3">
                <input id="txtLimit2" type="text" class="form-control" placeholder="Limit 2"/>
            </div>

        </div>
        <div class="form-group row ">
            <div class="col-md-4">
                <input id="txtFiyat1" type="text" class="form-control" placeholder="Fiyat 1"/>
            </div>
            <div class="col-md-4">
                <input id="txtFiyat2" type="text" class="form-control" placeholder="Fiyat 2"/>
            </div>
            <div class="col-md-4">
                <input id="txtFiyat3" type="text" class="form-control" placeholder="Fiyat 3"/>
            </div>


        </div>
        <div class="form-group row ">
            <div class="col-md-3">
                <input id="txteeFiyat1" type="text" class="form-control" placeholder="E Fiyat 1"/>
            </div>
            <div class="col-md-3">
                <input id="txteeFiyat2" type="text" class="form-control" placeholder="E Fiyat 2"/>
            </div>
            <div class="col-md-3">
                <input id="txteeFiyat3" type="text" class="form-control" placeholder="E Fiyat 3"/>
            </div>
            <div class="col-md-3">
                <input id="txteFiyat4" type="text" class="form-control" placeholder="E Fiyat 4"/>
            </div>
        </div>
        <div class="form-group row">
            <button id="btnAboneYap" type="button" class="btn btn-primary">Abone Yap</button>
        </div>
    }
</div>

<script type="text/javascript">
    $(document).ready(function () {

        var namespace='@ConfigurationManager.AppSettings["KartNamespace"]';

        $("#btnKartTipi").click(function (e) {
            KartTipi();
        });

        $("#btnKartBosalt").click(function (e) {
            AboneBosalt();
        });
        $("#btnAboneOku").click(function (e) {
            AboneOku();
        });
        $("#btnAboneYap").click(function (e) {
            AboneYap();
        });

        function KartTipi() {
            try
            {

                var kart = new ActiveXObject(namespace);
                var kartTip = kart.KartTipi();

                ajaxMesajGoster(kartTip);

            }
            catch(ex)
            {
                ajaxMesajGoster(ex, 'Hata');
            }
        
        }

        function AboneBosalt() {
            try {

                var kart = new ActiveXObject(namespace);
                var kartTip = kart.AboneBosalt();

                ajaxMesajGoster(kartTip);

            }
            catch (ex) {
                ajaxMesajGoster(ex, 'Hata');
            }

        }

        function AboneOku() {
            try {

                var kart = new ActiveXObject(namespace);
                var kartTip = kart.AboneOku();

                ajaxMesajGoster(kartTip);

            }
            catch (ex) {
                ajaxMesajGoster(ex, 'Hata');
            }

        }


        function AboneYap() {

            try {

                var cihazNo = $('#txtCihazNo').val();
                var kartNo = $('#txtKartNo').val();
                var limit1 = $('#txtLimit1').val();
                var limit2 = $('#txtLimit2').val();
                var fiyat1 = $('#txtFiyat1').val();
                var fiyat2 = $('#txtFiyat2').val();
                var fiyat3 = $('#txtFiyat3').val();
                var efiyat1 = $('#txteFiyat1').val();
                var efiyat2 = $('#txteFiyat2').val();
                var efiyat3 = $('#txteFiyat3').val();
                var efiyat4 = $('#txteFiyat4').val();

                var kart = new ActiveXObject(namespace);
                var kartTip = kart.AboneYap(cihazNo,kartNo,limit1,limit2,fiyat1,fiyat2,fiyat3,efiyat1,efiyat2,efiyat3,efiyat4);

                ajaxMesajGoster(kartTip);

            }
            catch (ex) {
                ajaxMesajGoster(ex, 'Hata');
            }
            
        }


    });

    
</script>